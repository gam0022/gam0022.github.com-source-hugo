+++
date = "2018-12-04T09:49:52+09:00"
draft = false
image = ""
math = false
slug = "tdf2018"
tags = []
title = "TokyoDemoFest 2018のDemo Compo優勝作品の解説"
toc = true

+++

12月1日～12月2日に秋葉原で開催された[Tokyo Demo Fest 2018](http://tokyodemofest.jp/2018/)（以下、TDF）に参加しました。

Combined PC Demo Compo部門にて発表した『WORMHOLE』（Graphics by [gam0022](https://twitter.com/gam0022/) / Music by [sadakkey](https://twitter.com/sadakkey)）が1位に選ばれました！

Combined PC Demo CompoはWindowsPC上で実行される実行プログラムによるデモ作品のコンペティションです。

[去年](https://gam0022.net/blog/2017/02/24/tdf2017/)のGLSL Compoの受賞コメントで来年はチームで参加したいと言いましたが、有限実行できました！
さらに優勝することもできて、とても嬉しいです。ありがとうございました！

この記事ではWORMHOLEの映像について解説してききます。

映像はUnity製でテキスト以外はレイマーチング等のプロシージャル生成したリアルタイムCGです。

<iframe width="560" height="315" src="https://www.youtube.com/embed/k5MotEfghjQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

- [YouTube](https://www.youtube.com/watch?v=k5MotEfghjQ)
- [Video（ダウンロード可能）]()

この記事ではWORMHOLEの映像の作り方について解説してききます。

# Unityとの連携

Unity 2018.2の目玉機能も複数利用しているので、Unityの良い応用事例だと思います。

- Timeline
    - タイムライン（時系列によるコンテンツの再生に利用）
- TextMeshPro
    - フォントのレンダリングに利用
- Chinemachine
    - カメラワークに利用
- PostProcessingStack v2
    - DoFやBloomのポストエフェクトに利用

# レンダリング

レイトレーシング（レイマーチング）とラスタライザのハイブリッドなレンダリングを実現するためにディファードシェーディングを採用しました。

ワールドの背景のトンネルや海はレイマーチングですが、グリーティングのテキスト描画やパーティクルはラスタライザで描画しました。

ポリゴンでは表現がしにくいフラクタル図形はレイマーチングで描画し、レイマーチングでは制御が難しいパーティクルはポリゴンで表現して、それぞれの良いところ取りできました。

# モデリング

## トンネル

## 海

## 戦闘機

# 音楽との同期

時間からビート

音楽に合わせたカメラのカット切り替え

どうやって映像を考えたか

# 演出の実装

# TextMeshProを利用したフォントの描画とカスタムシェーダーによるエフェクトの組み合わせ

# パーティクル

# まとめ

エンコーダー

# ライブコーディングバトル