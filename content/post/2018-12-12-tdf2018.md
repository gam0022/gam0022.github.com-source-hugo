+++
date = "2018-12-04T09:49:52+09:00"
draft = false
image = ""
math = false
slug = "tdf2018"
tags = []
title = "TokyoDemoFest 2018のDemo Compo優勝作品の解説"
toc = true

+++

12月1日～12月2日に秋葉原で開催された[Tokyo Demo Fest 2018](http://tokyodemofest.jp/2018/)に参加しました。

Tokyo Demo Fest(TDF)とは、こんなイベントです（公式サイトからの引用）。

> Tokyo Demo Fest は日本で唯一のデモパーティです。 デモパーティは、コンピュータを用いたプログラミングとアートに興味のある人々が日本中、世界中から一堂に会し、デモ作品のコンペティション(コンポ)やセミナーなどを行います。また、イベント開催中は集まった様々な人たちとの交流が深められます。

Combined PC Demo Compo部門にて発表した『WORMHOLE』が1位に選ばれて優勝しました。

Combined PC Demo CompoはWindowsPC上で実行される実行プログラムによるデモ作品のコンペティションです。

TDFへの参加は今年で3回目となりますが、今回は初のチーム参加しました！
映像は私 [@gam0022](https://twitter.com/gam0022/) が担当し、音楽はさだきちさん（[@sadakkey](https://twitter.com/sadakkey)）が担当しました。
[去年](https://gam0022.net/blog/2017/02/24/tdf2017/)のGLSL Compoの3位入賞のコメントで来年はチームで参加したいと言いましたが、有限実行できて良かったです。

作品の動画をYouTubeに公開しました。
今回は頑張りすぎてエンコーダーに優しくない映像をつくってしまったので、高品質で見たい場合はWindows用の実行ファイルをダウンロードしてくださると嬉しいです。

<iframe width="560" height="315" src="https://www.youtube.com/embed/k5MotEfghjQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

- [実行ファイル](https://files.scene.org/view/parties/2018/tokyodemofest18/demo/wormhole.zip)
- [Video（高画質）](https://drive.google.com/file/d/1GxyxjOyGBRcofMVKILmJtlmYaMZ5XoGx/view)

この記事ではWORMHOLEの映像について解説してききます。

映像はUnity製でテキスト以外はレイマーチング等のプロシージャル生成したリアルタイムCGです。

この記事ではWORMHOLEの映像の作り方について解説してききます。

# Unityとの連携

Unity 2018.2の目玉機能も複数利用しているので、Unityの良い応用事例だと思います。

- Timeline
    - タイムライン（時系列によるコンテンツの再生に利用）
- TextMeshPro
    - フォントのレンダリングに利用
- Chinemachine
    - カメラワークに利用
- PostProcessingStack v2
    - DoFやBloomのポストエフェクトに利用

# レンダリング

レイトレーシング（レイマーチング）とラスタライザのハイブリッドなレンダリングを実現するためにディファードシェーディングを採用しました。

ワールドの背景のトンネルや海はレイマーチングですが、グリーティングのテキスト描画やパーティクルはラスタライザで描画しました。

ポリゴンでは表現がしにくいフラクタル図形はレイマーチングで描画し、レイマーチングでは制御が難しいパーティクルはポリゴンで表現して、それぞれの良いところ取りできました。

# モデリング

## トンネル

## 海

## 戦闘機

# 音楽との同期

時間からビート

音楽に合わせたカメラのカット切り替え

どうやって映像を考えたか

# 演出の実装

# TextMeshProを利用したフォントの描画とカスタムシェーダーによるエフェクトの組み合わせ

# パーティクル

# まとめ

エンコーダー

# ライブコーディングバトル